#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Quality Gates - Pre-Commit"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

# ESLint
echo "ğŸ“ Verificando ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ ESLint falhou! Corrija os erros antes de commitar."
  exit 1
fi

# TypeScript
echo "ğŸ”§ Verificando TypeScript..."
npm run type-check
if [ $? -ne 0 ]; then
  echo "âŒ TypeScript falhou! Corrija os erros antes de commitar."
  exit 1
fi

echo "âœ… Quality Gates passaram! Commit permitido."
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
