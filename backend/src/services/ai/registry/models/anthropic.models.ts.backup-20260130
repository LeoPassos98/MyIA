// backend/src/services/ai/registry/models/anthropic.models.ts
// Standards: docs/STANDARDS.md

import { ModelRegistry, ModelMetadata } from '../model-registry';

/**
 * Anthropic Claude models registration
 */
const anthropicModels: ModelMetadata[] = [
  // Claude 3.5 Sonnet v2 (requires inference profile)
  {
    modelId: 'anthropic.claude-3-5-sonnet-20241022-v2:0',
    vendor: 'anthropic',
    displayName: 'Claude 3.5 Sonnet v2',
    description: 'Most intelligent model, best for complex tasks',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3.5 Haiku (requires inference profile)
  {
    modelId: 'anthropic.claude-3-5-haiku-20241022-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3.5 Haiku',
    description: 'Fastest model, best for simple tasks',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4.5 Haiku (requires inference profile)
  {
    modelId: 'anthropic.claude-haiku-4-5-20251001-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4.5 Haiku',
    description: 'Next-gen Haiku with improved performance',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4.5 Sonnet (requires inference profile)
  {
    modelId: 'anthropic.claude-sonnet-4-5-20250929-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4.5 Sonnet',
    description: 'Latest Sonnet with state-of-the-art performance',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4 Opus (requires inference profile)
  {
    modelId: 'anthropic.claude-opus-4-20250514-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4 Opus',
    description: 'Most powerful Claude 4 model',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4 Sonnet (requires inference profile)
  {
    modelId: 'anthropic.claude-sonnet-4-20250514-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4 Sonnet',
    description: 'Balanced Claude 4 model',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4.5 Opus (requires inference profile)
  {
    modelId: 'anthropic.claude-opus-4-5-20251101-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4.5 Opus',
    description: 'Most powerful Claude 4.5 model',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 4.1 Opus (requires inference profile)
  {
    modelId: 'anthropic.claude-opus-4-1-20250805-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 4.1 Opus',
    description: 'Enhanced Claude 4 Opus',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3.7 Sonnet (requires inference profile)
  {
    modelId: 'anthropic.claude-3-7-sonnet-20250219-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3.7 Sonnet',
    description: 'Enhanced Claude 3 Sonnet',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3.5 Sonnet v1 (legacy, requires inference profile)
  {
    modelId: 'anthropic.claude-3-5-sonnet-20240620-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3.5 Sonnet v1',
    description: 'First version of Claude 3.5 Sonnet',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: true,
      maxContextWindow: 200000,
      maxOutputTokens: 8192,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3 Opus (legacy, requires inference profile)
  {
    modelId: 'anthropic.claude-3-opus-20240229-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3 Opus',
    description: 'Most powerful Claude 3 model',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: false,
      maxContextWindow: 200000,
      maxOutputTokens: 4096,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3 Sonnet (legacy, requires inference profile)
  {
    modelId: 'anthropic.claude-3-sonnet-20240229-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3 Sonnet',
    description: 'Balanced Claude 3 model',
    capabilities: {
      streaming: true,
      vision: true,
      functionCalling: false,
      maxContextWindow: 200000,
      maxOutputTokens: 4096,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },

  // Claude 3 Haiku (legacy, requires inference profile)
  {
    modelId: 'anthropic.claude-3-haiku-20240307-v1:0',
    vendor: 'anthropic',
    displayName: 'Claude 3 Haiku',
    description: 'Fast and efficient model for simple tasks',
    capabilities: {
      streaming: true,
      vision: false,
      functionCalling: false,
      maxContextWindow: 200000,
      maxOutputTokens: 4096,
    },
    supportedPlatforms: ['bedrock'],
    platformRules: [
      {
        platform: 'bedrock',
        rule: 'requires_inference_profile',
        config: {
          profileFormat: '{region}.{modelId}',
        },
      },
    ],
    adapterClass: 'AnthropicAdapter',
    recommendedParams: {
      temperature: 0.7,
      topP: 0.9,
      maxTokens: 2048,
    },
  },
];

// Auto-register all models
ModelRegistry.registerMany(anthropicModels);

export { anthropicModels };
