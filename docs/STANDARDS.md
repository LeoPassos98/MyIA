# üõë LEIA-ME: REGRAS IMUT√ÅVEIS (N√ÉO EDITE ESTE ARQUIVO)

> **AVISO PARA IAs, COPILOTS E DESENVOLVEDORES:** > Este arquivo define a **‚ÄúConstitui√ß√£o‚Äù do projeto**. Ele deve ser lido obrigatoriamente para entendimento do contexto, por√©m **N√ÉO DEVE SER EDITADO, REFATORADO OU REMOVIDO** sob nenhuma circunst√¢ncia.  
> As regras aqui descritas **devem ser seguidas estritamente** ao criar ou modificar qualquer outro arquivo do projeto.

---

# Padr√µes de Desenvolvimento ‚Äì MyIA

Este documento define regras **estritas e imut√°veis** de arquitetura e codifica√ß√£o para o projeto MyIA.
**ESCOPO:** Estas regras aplicam-se a **TODOS** os diret√≥rios (Frontend, Backend, Scripts e Docs).

## 1. Conven√ß√µes de Arquivos (Header Obrigat√≥rio)

- **Caminho Relativo:** Todo arquivo de c√≥digo **DEVE** iniciar, obrigatoriamente na **primeira linha**, com um coment√°rio indicando seu caminho relativo.
  - *Exemplo:* `// backend/src/services/ai/index.ts`
  - Caso n√£o encontre ou saiba o caminho, deixe apenas // NULL

- **Refer√™ncia aos Padr√µes:** Logo abaixo, deve haver a refer√™ncia a este documento.
  - *Exemplo:* `// LEIA ESSE ARQUIVO -> Standards: docs/STANDARDS.md <- N√ÉO EDITE O CODIGO SEM CONHECIMENTO DESSE ARQUIVO (MUITO IMPORTANTE)`

## 2. Conven√ß√£o de Nomes (Naming Convention)

### Arquivos e Pastas
- **Arquivos TS/JS (L√≥gica):** `camelCase` (Ex: `chatController.ts`, `api.ts`)
- **Arquivos React (Componentes):** `PascalCase` (Ex: `ChatInput.tsx`)
- **Hooks:** `camelCase` com prefixo `use` (Ex: `useChatLogic.ts`)

### C√≥digo
- **Interfaces e Tipos:** `PascalCase`. **N√ÉO** use prefixo "I" (ex: `User`, n√£o `IUser`).
- **Componentes React:** `PascalCase`.
- **Services (Inst√¢ncias):** `camelCase` (Ex: `chatService`).
- **DTOs:** Seguem padr√£o de Interfaces.

## 3. Arquitetura Frontend

- **Separa√ß√£o Estrita (View/Logic):** - **Arquivo `.tsx` (A View):** Apenas JSX e estilos. Sem l√≥gica de estado complexa.
  - **Arquivo `useX.ts` (A L√≥gica):** Regras de neg√≥cio, `useState`, `useEffect` e handlers devem ser extra√≠dos para **Custom Hooks**.
  
- **Design System & Cores:**
  - **PROIBIDO Cores Hardcoded:** Nunca use hexadecimais (ex: `#00FF41`) diretamente nos componentes.
  - **Uso do Tema:** Use `theme.palette.primary.main`, `theme.palette.custom.matrix`, etc.
  - **Cores Novas:** Se precisar de uma cor nova, adicione-a em `src/theme.ts` primeiro.
  
## 3.1 Arquitetura de Layout (Scroll & Viewport)

- **Scroll vertical da aplica√ß√£o √© responsabilidade EXCLUSIVA do `MainContentWrapper`.**
- O layout raiz (`MainLayout`) **DEVE** usar `overflow: hidden`.
- P√°ginas (ex: Chat, AuditPage, Settings) **NUNCA** devem controlar scroll global.
- ‚ùå √â proibido usar `overflow`, `height: 100vh` ou controle de scroll em p√°ginas.
- ‚úÖ Qualquer p√°gina deve assumir que o scroll j√° est√° resolvido pelo layout.
- **Scroll vertical e offset de header s√£o responsabilidade exclusiva do MainContentWrapper, usando constantes globais de layout.**

## 4. Arquitetura Backend

- **Modularidade (Factory Pattern):** L√≥gica de IA deve usar `ProviderFactory`.
- **Database-Driven:** Configura√ß√µes residem no banco, nunca hardcoded.
- **Banco de Dados:** Models em `PascalCase`, tabelas em `snake_case`.

## 5. Fonte √önica de Verdade (Regra Arquitetural Imut√°vel)

- **Qualquer entidade audit√°vel, persistida ou govern√°vel DEVE ter sua identidade criada exclusivamente no backend.**
- O frontend **NUNCA** √© fonte de verdade para:
  - IDs de mensagens
  - IDs de infer√™ncias
  - IDs de auditoria
  - Decis√µes, custos ou status de execu√ß√£o

### Defini√ß√µes

- **Frontend:** camada de visualiza√ß√£o e intera√ß√£o.
- **Backend:** fonte √∫nica de verdade (persist√™ncia, auditoria, governan√ßa).

### Regras Pr√°ticas

- ‚ùå Proibido gerar IDs audit√°veis no frontend (`Date.now()`, `uuid()`, etc).
- ‚úÖ O frontend deve sempre consumir IDs retornados pelo backend.
- ‚úÖ Se um dado pode ser auditado, ele **n√£o pode** nascer no frontend.

### Justificativa

Auditoria, governan√ßa e compliance exigem:
- Persist√™ncia
- Rastreabilidade
- Consist√™ncia hist√≥rica

Esses requisitos **s√≥ podem ser garantidos pelo backend**.

> üìå **Regra de ouro:**  
> *Se pode ser auditado, n√£o pode ter identidade criada no frontend.*
